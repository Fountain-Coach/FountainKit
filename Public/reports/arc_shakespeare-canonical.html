<!doctype html><meta charset="utf-8"/><title>Semantic Arc — shakespeare-canonical</title><style>body{font:14px/1.5 -apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:2rem}canvas{border:1px solid #eee;border-radius:6px}table{border-collapse:collapse;width:100%;margin-top:1rem}th,td{border:1px solid #ddd;padding:.5rem;text-align:left}th{background:#f7f7f7}</style><h1>Semantic Arc — shakespeare-canonical</h1><div>Total weight: 0</div><canvas id="chart" width="860" height="260"></canvas><table id="tbl"><thead><tr><th>Phase</th><th>Weight</th><th>Percent</th></tr></thead><tbody></tbody></table><script id="data" type="application/json">{"arc": [], "total": 0}</script><script>const data = JSON.parse(document.getElementById('data').textContent);
const arc = data.arc || [];
const ctx = document.getElementById('chart').getContext('2d');
const W=860,H=260; const max=Math.max(...arc.map(a=>a.weight),1); const barW=Math.max(20,(W-40)/arc.length-10); const baseY=H-30; const colors=['#4F46E5','#0EA5E9','#10B981','#F59E0B','#EF4444','#8B5CF6','#14B8A6','#64748B'];
ctx.font='12px -apple-system, Segoe UI, Roboto, Helvetica, Arial';ctx.fillStyle='#111';ctx.fillText('Phases',10,14);
arc.forEach((a,i)=>{const x=20+i*(barW+10);const h=Math.round((a.weight/max)*(H-80));ctx.fillStyle=colors[i%colors.length];ctx.fillRect(x,baseY-h,barW,h);ctx.fillStyle='#111';const label=(a.phase||'').replace(/^[^\/]+\//,'');ctx.save();ctx.translate(x+barW/2,H-10);ctx.rotate(-Math.PI/4);ctx.textAlign='right';ctx.fillText(label,0,0);ctx.restore();});
const tbody=document.querySelector('#tbl tbody');arc.forEach(a=>{const tr=document.createElement('tr');tr.innerHTML='<'+'td>'+a.phase+'<'+'/td><'+'td>'+a.weight+'<'+'/td><'+'td>'+((a.pct*100).toFixed(1))+'%<'+'/td>';tbody.appendChild(tr);});
</script>