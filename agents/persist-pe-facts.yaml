protocol: midi-ci-pe
functionBlocks:
  - name: Persist
    group: 0
    properties:
      - id: persist.put.request
        writable: true
        type: json
        schema:
          type: object
          properties:
            collection: { type: string }
            id: { type: string }
            body: { type: object }
          required: [collection, id, body]
          additionalProperties: false
        mapsTo:
          openapi:
            method: PUT
            path: /persist/{collection}/{id}
            body: json
      - id: persist.put.result
        readable: true
        type: json
        schema: { type: object }
      - id: persist.get.request
        writable: true
        type: json
        schema:
          type: object
          properties:
            collection: { type: string }
            id: { type: string }
          required: [collection, id]
          additionalProperties: false
        mapsTo:
          openapi:
            method: GET
            path: /persist/{collection}/{id}
      - id: persist.get.result
        readable: true
        type: json
        schema: { type: object }
    notify:
      - on: persist.put.result
        transport: ump
        latencyBudgetMs: 25
      - on: persist.get.result
        transport: ump
        latencyBudgetMs: 25

